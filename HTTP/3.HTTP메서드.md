# HTTP메서드
### API 설계
* API는 리소스식별을 기준으로 설계를 해야한다.
  * 리소스란 : 회원에 대한 API를 구현할때 회원이라는 개념 자체가 바로 리소스
  * 회원이라는 리소스만 식별을 해야한다 등록 조회 수정은 모두 배제(동사 x) get post put 메서드로식별
* URL 계층 구조 활용
  * 회원 목록 조회 등록 수정 삭제 /members/{id}
* 리소스와 행위를 분리
  * URI는 리소스만 식별을 하고
  * 행위는 HTTP메서드로 구분
  
### GET , POST
* GET : 조회
  * 서버에 전달하고 싶은 데이터는 query를 통해 전달
  * 메시지 바디를 사용할순 있지만 지원하지 않는곳이 많아서 권장하지 않음
* POST : 요청 데이터 처리 등록
  * 메시지 바디를 통해 서버로 요청 데이터 전달
  * 서버는 요청 데이터를 처리
    * 메시지 바디를 통해 들어온 데이터를 처리하는 모든 기능을 수행한다.
    * 주로 신규 리소스 등록 및 프로세스 처리에 사용
  * 응답 데이터로는 Content-Type , Length Location : 자원 신규생성를 보내줌
  * POST 사용 예제
    * HTML 폼 처리
    * 게시판 등록 댓글 등록
    * 신규 주문 생성 (서버가 아직 식별하지 않은 리소스 생성)
    * ** 정리**
      * 새 리소스 생성 및 요청 데이터 처리 다른 메서드로 처리하기 애매할경우 POST를 사용하자
* PUT : 해당 리소스를 다른 리소스로 대체 없으면 생성
  * 리소스가 있으면 대체 없으면 생성 -> 덮어쓰기
  * 클라이언트가 리소스에 위치를알고 지정하는것 {id} <- 알고 있어야함 **POST와 큰 차이점**
  * 주의 **PUT은 리소스를 완전히 대체한다.**
    * 업데이트를 이름과 나이중 나이만 하고싶어서 나이에 대한 데이터만 보낼 경우 해당 식별자에 데이터는 이름은 사라지고 나이만 있는 값이 된다.
      * **위 내용을 사용하려면 PATCH를 사용한면 된다.**
* PATCH : 수정
* DELETE : 삭제
* 기타 메서드 종류
  * HEAD , OPTIONS , CONNECT , TRACE
  
### HTTP 메서드 속성
* 안전
  * 호출해도 리소스를 변경하지 않는다.
  * ex) GET 은 안전 , POST PUT PATCH 는 안전하지 않는다.
* 멱등
  * 한번 이든 100번이든 호출 결과는 똑같다.
  * 외부 요인으로 결과가 바뀌는 경우는 고려하지 않는다.
  * **멱등 메서드**
    * GET : 여러번 조회해도 결과는 조회됨 
    * PUT : 리소스를 완전히 대체하기에 같은 요청을 여러번 해도 최종 결과는 똑같다.
    * DELETE : 결과를 삭제한다. 삭제 결과는 동일하다.
* 캐시가능
  * 응답 결과 리소스를 캐시해서 사용해도 되는가
    * GET HEAD POST PATCH 가능
    * 실제론 GET , HEAD만 캐시로 사용
    * POST PATCH는 본문 내용까지 **캐시 키** 로 고려해야하는데 구현이 어려움
    * 실무에선 거의 GET만 캐시로 사용한다.